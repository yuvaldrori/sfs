<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pick Up</title>
	<link href="css/domtab.css" rel="stylesheet">
	<link href="css/bootstrap.css" rel="stylesheet">
	
	
	<!-- Bootstrap CSS Toolkit styles -->
	<link rel="stylesheet" href="http://blueimp.github.com/cdn/css/bootstrap.min.css">
	<!-- Bootstrap styles for responsive website layout, supporting different screen sizes -->
	<link rel="stylesheet" href="http://blueimp.github.com/cdn/css/bootstrap-responsive.min.css">
	<!-- Bootstrap CSS fixes for IE6 -->
	<!--[if lt IE 7]><link rel="stylesheet" href="http://blueimp.github.com/cdn/css/bootstrap-ie6.min.css"><![endif]-->
	<!-- Bootstrap Image Gallery styles -->
	<link rel="stylesheet" href="http://blueimp.github.com/Bootstrap-Image-Gallery/css/bootstrap-image-gallery.min.css">
	<!-- CSS to style the file input field as button and adjust the Bootstrap progress bars -->
	<link rel="stylesheet" href="css/jquery.fileupload-ui.css">
	<!-- CSS adjustments for browsers with JavaScript disabled -->
	<noscript><link rel="stylesheet" href="css/jquery.fileupload-ui-noscript.css"></noscript>

	
	
	<style type="text/css">
	#previewImages {width:500px;height:500px;padding:10px;border:1px solid #aaaaaa;}
		
	</style>

  </head>
  <body>
   
    <div class="domtab">
	  <ul class="domtabs">
		<li><a href="#uploadPics">Uploading Pics</a></li>
		<li><a href="#generateQR">Generate QR</a></li>
		<li><a href="#getPics">Get Pictures</a></li>
	  </ul>
	  
	  <div>
		<h2><a name="uploadPics" id="uploadPics">Uploading Pics</a></h2>
			<div id="container"> 
			<!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload -->
			<div class="row fileupload-buttonbar">
				<div class="buttonsBar">
					<!-- The fileinput-button span is used to style the file input field as button -->
					<span class="btn btn-success fileinput-button">
						<i class="icon-plus icon-white"></i>
						<span>Add files</span>
						<input type="file" name="files[]" id="filesUploader" multiple>
					</span>
					<button type="button" id="uploadBtn" class="btn btn-primary start">
						<i class="icon-upload icon-white"></i>
						<span>Start upload</span>
					</button>
					<button type="reset" class="btn btn-warning cancel">
						<i class="icon-ban-circle icon-white"></i>
						<span>Cancel upload</span>
					</button>
					<button type="button" class="btn btn-danger delete">
						<i class="icon-trash icon-white"></i>
						<span>Delete</span>
					</button>
				</div>
			</div>
			<!-- The table listing the files available for upload/download -->
			<div id="previewImages">
				<div id="helpInfo">
					<h2> drag & drop or select files for upload</h2>
				</div>
				<table role="presentation" class="table table-striped" >
					<!-- <caption>uploading Pics</caption> -->
					<tbody id="previewTable" class="files" data-toggle="modal-gallery" data-target="#modal-gallery">
					</tbody>
				</table>
			</div>
		</div>
		<p><a href="#top">back to menu</a></p>
	  </div>
	  <div>
		<h2><a name="generateQR" id="generateQR">generate QR code</a></h2>
		<div>
			<div>
				<p>
					<button type="button" id="genQrBtn" class="btn btn-primary">
						<span>generate QR code</span>
					</button>
				</p>
			</div>
			
		</div>
		<div id="QRImage">
		</div>
		<p><a href="#top">back to menu</a></p>
	  </div>
	  <div>
		<h2><a name="getPics" id="getPics">Get Pictures</a></h2>
		<span class="btn btn-success fileinput-button">
			<i class="icon-plus icon-white"></i>
			<span>Select File</span>
			<input type="file"  id="downloadFiles">
		</span>
		
		<div id="downloadedPreview">
		</div>
		
		<table role="presentation" class="table table-striped" >
			<tbody id="downloadedPreview" class="files" data-toggle="modal-gallery" data-target="#modal-gallery">
			</tbody>
		</table>
					
		<p><a href="#top">back to menu</a></p>
	  </div>
	  
	
	</div>

    
	
    <script src="lib/jquery.js"></script>
	<script src="lib/jsqrcode/qrcode.js"></script>
	<script src="lib/qrcode-gen.js"></script>
	<script src="lib/jsqrcode/grid.js"></script>
	<script src="lib/jsqrcode/version.js"></script>
	<script src="lib/jsqrcode/detector.js"></script>
	<script src="lib/jsqrcode/formatinf.js"></script>
	<script src="lib/jsqrcode/errorlevel.js"></script>
	<script src="lib/jsqrcode/bitmat.js"></script>
	<script src="lib/jsqrcode/datablock.js"></script>
	<script src="lib/jsqrcode/bmparser.js"></script>
	<script src="lib/jsqrcode/datamask.js"></script>
	<script src="lib/jsqrcode/rsdecoder.js"></script>
	<script src="lib/jsqrcode/gf256poly.js"></script>
	<script src="lib/jsqrcode/gf256.js"></script>
	<script src="lib/jsqrcode/decoder.js"></script>
	<script src="lib/jsqrcode/qrcode.js"></script>
	<script src="lib/jsqrcode/findpat.js"></script>
	<script src="lib/jsqrcode/alignpat.js"></script>
	<script src="lib/jsqrcode/databr.js"></script>
	<script src="AWSUploadFiles.js"></script>
	<script src="AWSListFiles.js"></script>
	<script src="newEvent.js"></script>
	<script src="lib/domtab.js"></script>
	<script src="lib/base64-binary.js"></script>
    <script>
	
	
	


	
	function QRcallback(bucketName)
	{
		AWSFiles.bucketName = bucketName;
	}

	function isCanvasSupported(){
			var elem = document.createElement('canvas');
		return !!(elem.getContext && elem.getContext('2d'));
	}



	  
	  


  $(document).ready(function(){
		//$("a").click(function(event){
		//   event.preventDefault();
		//   $(this).hide("slow");
		// });
		 
		if(isCanvasSupported() && window.File && window.FileReader)
		{
			//alert('canvas supporeted');
			qrcode.callback = QRcallback;
		}
		else
		{
			alert('canvas is not supported try using chrome or FFmozila browsers');
		}
	
	});
			 
	$('#filesUploader').bind('change', handleFileSelect);
	$('#downloadFiles').bind('change', handleDownloadFiles);
	$('#uploadBtn').bind('click', handleFileupload);
	$('#previewImages').bind('dragenter', handleDragEnter);
	$('#previewImages').bind('dragover', handleDragOver);
	$('#previewImages').bind('drop', handleFileDrop);
	$('#genQrBtn').bind('click', handleGenQR);
		
    </script>
  </body>
</html>
